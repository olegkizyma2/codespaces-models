<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>–¢–µ—Å—Ç –º–æ–±—ñ–ª—å–Ω–æ–≥–æ –¥–æ–¥–∞—Ç–∫—É</title>
    <style>
        * { box-sizing: border-box; }
        body {
            margin: 0;
            background: #000000;
            color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        .test-container {
            padding: 20px;
            background: #111111;
            border-radius: 12px;
            border: 1px solid #333;
            max-width: 400px;
            width: 90%;
        }
        .status {
            margin: 10px 0;
            padding: 8px;
            border-radius: 6px;
        }
        .success { background: rgba(0,255,136,0.1); color: #00ff88; }
        .error { background: rgba(255,68,68,0.1); color: #ff4444; }
        button {
            background: #00ff88;
            color: #000;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 8px;
        }
        button:hover {
            background: #00cc66;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>üîß –¢–µ—Å—Ç –¥–æ–¥–∞—Ç–∫—É</h1>
        <div id="status"></div>
        <button onclick="testApp()">üß™ –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Ç–µ—Å—Ç</button>
        <button onclick="location.href='/'">üè† –ù–∞ –≥–æ–ª–æ–≤–Ω—É</button>
    </div>

    <script>
        function updateStatus(message, isError = false) {
            document.getElementById('status').innerHTML += 
                `<div class="status ${isError ? 'error' : 'success'}">${message}</div>`;
        }

        function testApp() {
            document.getElementById('status').innerHTML = '';
            updateStatus('üöÄ –ü–æ—á–∏–Ω–∞—é —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è...');

            // Test 1: CSS Variables
            const root = getComputedStyle(document.documentElement);
            const bgColor = root.getPropertyValue('--bg') || '#000000';
            updateStatus(`‚úÖ CSS –∑–º—ñ–Ω–Ω—ñ: ${bgColor}`);

            // Test 2: Modern JS support
            try {
                const testArrow = () => 'arrow functions work';
                const testTemplate = `template ${testArrow()} literals work`;
                updateStatus('‚úÖ ES6 –ø—ñ–¥—Ç—Ä–∏–º–∫–∞: –ø—Ä–∞—Ü—é—î');
            } catch (e) {
                updateStatus(`‚ùå ES6 –ø—Ä–æ–±–ª–µ–º–∞: ${e.message}`, true);
            }

            // Test 3: Fetch API
            if ('fetch' in window) {
                updateStatus('‚úÖ Fetch API: –¥–æ—Å—Ç—É–ø–Ω–∏–π');
                
                // Test server connection
                fetch('/health')
                    .then(response => {
                        if (response.ok) {
                            updateStatus('‚úÖ –°–µ—Ä–≤–µ—Ä: –ø—ñ–¥–∫–ª—é—á–µ–Ω–∏–π');
                        } else {
                            updateStatus(`‚ö†Ô∏è –°–µ—Ä–≤–µ—Ä: —Å—Ç–∞—Ç—É—Å ${response.status}`, true);
                        }
                    })
                    .catch(error => {
                        updateStatus(`‚ùå –°–µ—Ä–≤–µ—Ä: ${error.message}`, true);
                    });
            } else {
                updateStatus('‚ùå Fetch API: –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π', true);
            }

            // Test 4: Module support
            if ('noModule' in HTMLScriptElement.prototype) {
                updateStatus('‚úÖ ES Modules: –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è');
            } else {
                updateStatus('‚ùå ES Modules: –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è', true);
            }

            // Test 5: Service Worker
            if ('serviceWorker' in navigator) {
                updateStatus('‚úÖ Service Worker: –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è');
            } else {
                updateStatus('‚ùå Service Worker: –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î—Ç—å—Å—è', true);
            }

            // Test 6: Touch events
            if ('ontouchstart' in window) {
                updateStatus('‚úÖ Touch events: –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å—Å—è');
            } else {
                updateStatus('‚ÑπÔ∏è Touch events: desktop —Ä–µ–∂–∏–º');
            }

            // Test 7: Speech APIs
            if ('speechSynthesis' in window) {
                updateStatus('‚úÖ Speech Synthesis: –¥–æ—Å—Ç—É–ø–Ω–∏–π');
            } else {
                updateStatus('‚ùå Speech Synthesis: –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π', true);
            }

            if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                updateStatus('‚úÖ Speech Recognition: –¥–æ—Å—Ç—É–ø–Ω–∏–π');
            } else {
                updateStatus('‚ùå Speech Recognition: –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π', true);
            }
        }

        // Auto-run test on load
        window.addEventListener('load', testApp);
    </script>
</body>
</html>
